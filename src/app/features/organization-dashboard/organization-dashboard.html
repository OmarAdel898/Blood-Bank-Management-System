<div class="min-h-screen flex bg-gray-50" dir="ltr">
  <!-- Mobile Sidebar Overlay -->
  <div
    *ngIf="sidebarMobileOpen"
    class="fixed inset-0 bg-black/50 z-40 lg:hidden"
    (click)="closeMobileSidebar()"
  ></div>

  <!-- Sidebar -->
  <aside
    [class.w-64]="!sidebarCollapsed"
    [class.w-16]="sidebarCollapsed"
    [class.-translate-x-full]="!sidebarMobileOpen"
    [class.translate-x-0]="sidebarMobileOpen"
    class="transition-all duration-200 bg-white shadow-lg fixed h-full z-50 lg:translate-x-0"
  >
    <div class="p-4 flex items-center justify-between border-b border-gray-200">
      <div class="flex items-center gap-3" *ngIf="!sidebarCollapsed">
        <div
          class="w-10 h-10 rounded-full bg-red-600 flex items-center justify-center text-white font-bold"
        >
          BB
        </div>
        <div class="text-sm font-semibold text-gray-900">Blood Bank</div>
      </div>
      <button
        (click)="toggleSidebar()"
        class="hidden lg:block p-1 hover:bg-gray-100 rounded focus:outline-none focus:ring-2 focus:ring-red-500"
        aria-label="Toggle sidebar"
      >
        <span class="w-6 text-center text-lg">
          <svg
            *ngIf="!sidebarCollapsed"
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="currentColor"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
          <svg
            *ngIf="sidebarCollapsed"
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16"
            />
          </svg>
        </span>
      </button>
    </div>

    <nav class="mt-6">
      <ul class="space-y-1 px-2">
        <li>
          <button
            (click)="setActiveSection('overview')"
            [class.bg-red-50]="activeSection === 'overview'"
            [class.text-red-600]="activeSection === 'overview'"
            [class.font-semibold]="activeSection === 'overview'"
            class="flex items-center gap-3 w-full px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors"
          >
            <span
              class="w-6 h-6 flex items-center justify-center"
              [class.text-red-600]="activeSection === 'overview'"
              [class.text-gray-600]="activeSection !== 'overview'"
            >
              <svg
                viewBox="0 -0.5 25 25"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <path
                    d="M20.25 9C20.25 8.58579 19.9142 8.25 19.5 8.25C19.0858 8.25 18.75 8.58579 18.75 9L20.25 9ZM11.5 18.25C11.0858 18.25 10.75 18.5858 10.75 19C10.75 19.4142 11.0858 19.75 11.5 19.75V18.25ZM18.75 9C18.75 9.41421 19.0858 9.75 19.5 9.75C19.9142 9.75 20.25 9.41421 20.25 9L18.75 9ZM11.5 4.25C11.0858 4.25 10.75 4.58579 10.75 5C10.75 5.41421 11.0858 5.75 11.5 5.75V4.25ZM19.5 9.75C19.9142 9.75 20.25 9.41421 20.25 9C20.25 8.58579 19.9142 8.25 19.5 8.25V9.75ZM11.5 8.25C11.0858 8.25 10.75 8.58579 10.75 9C10.75 9.41421 11.0858 9.75 11.5 9.75V8.25ZM6.25 12C6.25 11.5858 5.91421 11.25 5.5 11.25C5.08579 11.25 4.75 11.5858 4.75 12H6.25ZM11.5 19.75C11.9142 19.75 12.25 19.4142 12.25 19C12.25 18.5858 11.9142 18.25 11.5 18.25V19.75ZM4.75 12C4.75 12.4142 5.08579 12.75 5.5 12.75C5.91421 12.75 6.25 12.4142 6.25 12H4.75ZM11.5 5.75C11.9142 5.75 12.25 5.41421 12.25 5C12.25 4.58579 11.9142 4.25 11.5 4.25V5.75ZM5.5 11.25C5.08579 11.25 4.75 11.5858 4.75 12C4.75 12.4142 5.08579 12.75 5.5 12.75L5.5 11.25ZM11.5 12.75C11.9142 12.75 12.25 12.4142 12.25 12C12.25 11.5858 11.9142 11.25 11.5 11.25V12.75ZM12.25 12C12.25 11.5858 11.9142 11.25 11.5 11.25C11.0858 11.25 10.75 11.5858 10.75 12H12.25ZM10.75 19C10.75 19.4142 11.0858 19.75 11.5 19.75C11.9142 19.75 12.25 19.4142 12.25 19H10.75ZM10.75 12C10.75 12.4142 11.0858 12.75 11.5 12.75C11.9142 12.75 12.25 12.4142 12.25 12H10.75ZM12.25 9C12.25 8.58579 11.9142 8.25 11.5 8.25C11.0858 8.25 10.75 8.58579 10.75 9H12.25ZM12.25 5C12.25 4.58579 11.9142 4.25 11.5 4.25C11.0858 4.25 10.75 4.58579 10.75 5H12.25ZM10.75 9C10.75 9.41421 11.0858 9.75 11.5 9.75C11.9142 9.75 12.25 9.41421 12.25 9H10.75ZM18.75 9V15H20.25V9L18.75 9ZM18.75 15C18.75 16.7949 17.2949 18.25 15.5 18.25V19.75C18.1234 19.75 20.25 17.6234 20.25 15H18.75ZM15.5 18.25H11.5V19.75H15.5V18.25ZM20.25 9C20.25 6.37665 18.1234 4.25 15.5 4.25L15.5 5.75C17.2949 5.75 18.75 7.20507 18.75 9L20.25 9ZM15.5 4.25H11.5V5.75H15.5L15.5 4.25ZM19.5 8.25H11.5V9.75H19.5V8.25ZM4.75 12V15H6.25V12H4.75ZM4.75 15C4.75 17.6234 6.87665 19.75 9.5 19.75V18.25C7.70507 18.25 6.25 16.7949 6.25 15H4.75ZM9.5 19.75H11.5V18.25H9.5V19.75ZM6.25 12L6.25 9H4.75L4.75 12H6.25ZM6.25 9C6.25 7.20507 7.70507 5.75 9.5 5.75V4.25C6.87665 4.25 4.75 6.37665 4.75 9H6.25ZM9.5 5.75H11.5V4.25H9.5V5.75ZM5.5 12.75H11.5V11.25H5.5L5.5 12.75ZM10.75 12V19H12.25V12H10.75ZM12.25 12V9H10.75V12H12.25ZM10.75 5V9H12.25V5H10.75Z"
                    fill="currentColor"
                  ></path>
                </g>
              </svg>
            </span>
            <span *ngIf="!sidebarCollapsed">Overview</span>
          </button>
        </li>
        <li>
          <button
            (click)="setActiveSection('inventory')"
            [class.bg-red-50]="activeSection === 'inventory'"
            [class.text-red-600]="activeSection === 'inventory'"
            [class.font-semibold]="activeSection === 'inventory'"
            class="flex items-center gap-3 w-full px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors"
          >
            <span
              class="w-6 h-6 flex items-center justify-center"
              [class.text-red-600]="activeSection === 'inventory'"
              [class.text-gray-600]="activeSection !== 'inventory'"
            >
              <svg
                fill="currentColor"
                viewBox="0 0 24 24"
                id="blood"
                data-name="Line Color"
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <path
                    id="primary"
                    d="M18,15A6,6,0,0,1,6,15c0-4,2-5,6-12C16,10,18,11,18,15Z"
                  ></path>
                </g>
              </svg>
            </span>
            <span *ngIf="!sidebarCollapsed">Inventory</span>
          </button>
        </li>
        <li>
          <button
            (click)="setActiveSection('donations')"
            [class.bg-red-50]="activeSection === 'donations'"
            [class.text-red-600]="activeSection === 'donations'"
            [class.font-semibold]="activeSection === 'donations'"
            class="flex items-center gap-3 w-full px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors"
          >
            <span
              class="w-6 h-6 flex items-center justify-center"
              [class.text-red-600]="activeSection === 'donations'"
              [class.text-gray-600]="activeSection !== 'donations'"
            >
              <svg
                fill="currentColor"
                viewBox="0 0 1024 1024"
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <circle cx="435.2" cy="409.5" r="102.4"></circle>
                  <path
                    d="M588.8 409.5c0 17.6-3.1 34.5-8.6 50.3 2.9.2 5.7.9 8.6.9 56.6 0 102.4-45.8 102.4-102.4 0-56.6-45.8-102.4-102.4-102.4-26.1 0-49.7 10.1-67.8 26.2 40.9 27.7 67.8 74.4 67.8 127.4zM435.2 563.1c-128 0-179.2 25.6-179.2 102.4v102.6h358.4V665.5c0-77.3-51.2-102.4-179.2-102.4z"
                  ></path>
                  <path
                    d="M588.8 511.9c-14.5 0-27.9.4-40.5 1.1-2.3 2.5-4.6 4.9-7 7.2 63.7 13.5 124.2 49.5 124.2 145.3v51.4H768V614.3c0-77.3-51.2-102.4-179.2-102.4z"
                  ></path>
                </g>
              </svg>
            </span>
            <span *ngIf="!sidebarCollapsed">Donations</span>
          </button>
        </li>
        <li>
          <button
            (click)="setActiveSection('requests')"
            [class.bg-red-50]="activeSection === 'requests'"
            [class.text-red-600]="activeSection === 'requests'"
            [class.font-semibold]="activeSection === 'requests'"
            class="flex items-center gap-3 w-full px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors"
          >
            <span
              class="w-6 h-6 flex items-center justify-center"
              [class.text-red-600]="activeSection === 'requests'"
              [class.text-gray-600]="activeSection !== 'requests'"
            >
              <svg
                fill="currentColor"
                viewBox="0 0 32 32"
                id="icon"
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <defs>
                    <style>
                      .cls-1 {
                        fill: none;
                      }
                    </style>
                  </defs>
                  <title>request-quote</title>
                  <path
                    d="M22,22v6H6V4H16V2H6A2,2,0,0,0,4,4V28a2,2,0,0,0,2,2H22a2,2,0,0,0,2-2V22Z"
                    transform="translate(0)"
                  ></path>
                  <path
                    d="M29.54,5.76l-3.3-3.3a1.6,1.6,0,0,0-2.24,0l-14,14V22h5.53l14-14a1.6,1.6,0,0,0,0-2.24ZM14.7,20H12V17.3l9.44-9.45,2.71,2.71ZM25.56,9.15,22.85,6.44l2.27-2.27,2.71,2.71Z"
                    transform="translate(0)"
                  ></path>
                  <rect
                    id="_Transparent_Rectangle_"
                    data-name="&lt;Transparent Rectangle&gt;"
                    class="cls-1"
                    width="32"
                    height="32"
                  ></rect>
                </g>
              </svg>
            </span>
            <span *ngIf="!sidebarCollapsed">Requests</span>
          </button>
        </li>
        <li>
          <button
            (click)="setActiveSection('deliveries')"
            [class.bg-red-50]="activeSection === 'deliveries'"
            [class.text-red-600]="activeSection === 'deliveries'"
            [class.font-semibold]="activeSection === 'deliveries'"
            class="flex items-center gap-3 w-full px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors"
          >
            <span
              class="w-6 h-6 flex items-center justify-center"
              [class.text-red-600]="activeSection === 'deliveries'"
              [class.text-gray-600]="activeSection !== 'deliveries'"
            >
              <svg
                fill="currentColor"
                viewBox="0 0 512 512"
                enable-background="new 0 0 512 512"
                id="Domestic_x5F_EMS"
                version="1.1"
                xml:space="preserve"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                class="w-5 h-5"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <g>
                    <g>
                      <rect height="10" width="13.813" x="98.034" y="152.55"></rect>
                      <path
                        d="M477.099,357.38c3.89-14.63,5.86-29.79,5.86-45.06c0-42.801-15.67-83.13-42.641-114.25c-2.23-2.59-4.561-5.12-6.96-7.58 c-15.31-15.71-33.7-28.65-54.521-37.83l-4.029,9.15c18.6,8.2,35.13,19.6,49.09,33.38c2.3,2.26,4.52,4.59,6.68,6.98 c-16.25,7.92-35.899,14.07-57.539,18.16c-0.74-2.98-1.521-5.91-2.33-8.77c-5.011-17.63-11.36-32.99-18.891-45.15 c16.21-23.66,31.85-51.32,31.85-69.99c0-39.22-31.91-71.13-71.129-71.13c-39.221,0-71.13,31.91-71.13,71.13 c0,13.2,7.82,30.89,18.13,48.49c-6.99,2.04-13.781,4.49-20.341,7.33h-114.63v10h95.02c-13.24,7.85-25.28,17.36-35.86,28.22 c-2.4,2.46-4.73,4.99-6.97,7.59c-11.13,12.83-20.35,27.28-27.34,42.87h-79.9v10h75.79c-2.3,6.11-4.26,12.391-5.87,18.78h-36.52v10 h34.31c-2.01,10.61-3.06,21.51-3.06,32.62c0,17.72,2.67,34.84,7.61,50.97h-80.26v10h83.66c2.73,7.28,5.93,14.33,9.56,21.12h-35.16 v10h40.96c5.42,8.67,11.58,16.84,18.39,24.41c0.98,1.1,1.97,2.17,2.99,3.24c29.63,31.33,70.72,51.72,116.51,54.35 c2,0.12,4.01,0.21,6.03,0.25c1.369,0.029,2.739,0.05,4.109,0.05c0.85,0,1.7-0.01,2.58-0.021c0.37,0.011,0.74,0.021,1.1,0.021 c0.791,0,1.601-0.04,2.431-0.101l0.72-0.02l0.061-0.02c46.439-1.801,89.16-21.91,119.899-54.43c0.84-0.881,1.67-1.781,2.479-2.681 c14-15.44,25.351-33.55,33.23-53.71l-9.311-3.641c-5.739,14.69-13.449,28.211-22.75,40.32c-17.56-9.18-39.18-16.26-63.149-20.859 c4.74-23.25,7.34-49.08,7.55-75.801h89.5c-0.279,13.23-2.1,26.351-5.479,39.03L477.099,357.38z M373.369,305.77h-55.83v-69.72 c16.449-0.39,32.51-1.83,47.779-4.25C370.139,254.23,372.959,279.53,373.369,305.77z M317.539,226.05V211.2 c3.25-3.82,12.159-14.47,22.439-28.24c1.811-2.43,3.66-4.96,5.529-7.56c7.051,12.5,12.99,28.44,17.551,46.65 C348.519,224.31,333.219,225.67,317.539,226.05z M307.539,226.15c-15.891-0.04-31.471-1.1-46.341-3.07 c0.74-2.98,1.511-5.91,2.32-8.77c4.29-15.21,9.59-28.6,15.729-39.37c12.61,17.58,24.44,31.73,28.291,36.26V226.15z M258.969,232.85c15.59,2.13,31.93,3.26,48.57,3.3v69.62h-56.391C251.549,279.939,254.289,255.02,258.969,232.85z M307.539,315.77 v32.34h10v-32.34h55.869c-0.21,26.181-2.76,51.42-7.39,74.061c-18.22-2.92-37.59-4.45-57.45-4.45 c-17.279,0-34.189,1.16-50.289,3.39c-4.49-22.35-6.971-47.199-7.171-73H307.539z M251.409,96.42c0-33.71,27.429-61.13,61.13-61.13 c33.709,0,61.129,27.42,61.129,61.13c0,17.26-16.319,44.79-32.6,67.95c-2.12,3.01-4.24,5.96-6.32,8.79 c-9.14,12.45-17.569,22.85-22.219,28.45C292.469,177.63,251.409,123.03,251.409,96.42z M264.948,153.79 c1.101,1.73,2.21,3.46,3.331,5.17c1.539,2.37,3.109,4.71,4.689,7.01c-9.04,14.47-16.43,33.53-21.8,55.61 c-24.48-4.04-46.66-10.65-64.68-19.45c2.15-2.39,4.38-4.72,6.67-6.97C212.688,175.89,237.168,161.41,264.948,153.79z M179.838,209.99c17.01,8.62,37.7,15.33,60.53,19.79c2.83,0.56,5.69,1.08,8.59,1.56c-4.71,22.59-7.43,47.9-7.81,74.43h-96.84 C145.719,270,158.628,236.71,179.838,209.99z M144.219,315.77h96.89c0.2,26.271,2.71,51.621,7.28,74.511 c-3.08,0.52-6.12,1.079-9.12,1.68c-23.12,4.601-43.99,11.521-61.04,20.42C157.539,385.49,144.969,352.061,144.219,315.77z M191.188,427.28c-2.24-2.271-4.39-4.601-6.48-6.99c18.18-9.17,40.76-16.06,65.79-20.24c2.75,11.82,6.08,22.88,9.95,32.94 c7.261,18.85,16.04,33.119,25.79,42.199c-3.89-0.529-7.73-1.199-11.529-2C242.369,466.391,213.489,450.061,191.188,427.28z M269.789,429.391c-3.631-9.42-6.76-19.771-9.371-30.83c15.4-2.09,31.59-3.181,48.15-3.181c19.141,0,37.78,1.45,55.28,4.21 c-2.45,10.2-5.341,19.78-8.65,28.57c-11.01,29.23-25.84,46.859-40.69,48.439h-0.1l-0.72,0.01l-0.069,0.021 c-0.801,0.021-1.59,0.04-2.361,0.06C296.198,475.99,281.088,458.77,269.789,429.391z M339.758,473.73 c9.381-9.351,17.83-23.561,24.801-42.041c2.55-6.77,4.859-13.979,6.91-21.569c0.789-2.88,1.529-5.82,2.24-8.8 c22.27,4.25,42.359,10.699,58.819,19.02c-2.09,2.4-4.25,4.74-6.479,7C402.889,451.01,372.879,467.37,339.758,473.73z M383.369,305.77c-0.391-27.039-3.211-52.789-8.091-75.699c23.39-4.46,44.58-11.25,61.95-20.04 c21.35,26.88,34.189,60.25,35.6,95.739H383.369z"
                      ></path>
                      <rect height="10" width="20.202" x="30.707" y="240.917"></rect>
                      <rect height="10" width="16.656" x="29.042" y="363.156"></rect>
                      <rect height="10" width="16.656" x="87.867" y="394.408"></rect>
                      <path
                        d="M313.709,57.31c-21.471,0-38.94,17.46-38.94,38.93c0,21.47,17.47,38.93,38.94,38.93c21.459,0,38.93-17.46,38.93-38.93 C352.639,74.77,335.168,57.31,313.709,57.31z M313.709,125.17c-15.961,0-28.94-12.98-28.94-28.93 c0-15.95,12.979-28.93,28.94-28.93c15.949,0,28.93,12.98,28.93,28.93C342.639,112.19,329.658,125.17,313.709,125.17z"
                      ></path>
                    </g>
                  </g>
                </g></svg
            ></span>
            <span *ngIf="!sidebarCollapsed">Deliveries</span>
          </button>
        </li>
        <li>
          <button
            (click)="setActiveSection('reports')"
            [class.bg-red-50]="activeSection === 'reports'"
            [class.text-red-600]="activeSection === 'reports'"
            [class.font-semibold]="activeSection === 'reports'"
            class="flex items-center gap-3 w-full px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors"
          >
            <span
              class="w-6 h-6 flex items-center justify-center"
              [class.text-red-600]="activeSection === 'reports'"
              [class.text-gray-600]="activeSection !== 'reports'"
            >
              <svg
                viewBox="0 0 512 512"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                fill="currentColor"
                class="w-5 h-5"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <title>report-barchart</title>
                  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="add" fill="currentColor" transform="translate(42.666667, 85.333333)">
                      <path
                        d="M341.333333,1.42108547e-14 L426.666667,85.3333333 L426.666667,341.333333 L3.55271368e-14,341.333333 L3.55271368e-14,1.42108547e-14 L341.333333,1.42108547e-14 Z M330.666667,42.6666667 L42.6666667,42.6666667 L42.6666667,298.666667 L384,298.666667 L384,96 L330.666667,42.6666667 Z M106.666667,85.3333333 L106.666,234.666 L341.333333,234.666667 L341.333333,256 L85.3333333,256 L85.3333333,85.3333333 L106.666667,85.3333333 Z M170.666667,149.333333 L170.666667,213.333333 L128,213.333333 L128,149.333333 L170.666667,149.333333 Z M234.666667,106.666667 L234.666667,213.333333 L192,213.333333 L192,106.666667 L234.666667,106.666667 Z M298.666667,170.666667 L298.666667,213.333333 L256,213.333333 L256,170.666667 L298.666667,170.666667 Z"
                        id="Combined-Shape"
                      ></path>
                    </g>
                  </g>
                </g>
              </svg>
            </span>
            <span *ngIf="!sidebarCollapsed">Reports</span>
          </button>
        </li>
      </ul>
    </nav>

    <!-- Alerts Badge -->
    <div
      class="absolute bottom-4 left-0 right-0 px-4"
      *ngIf="!sidebarCollapsed && alerts.length > 0"
    >
      <div class="bg-red-50 border border-red-200 rounded-lg p-3">
        <div class="flex items-center gap-2">
          <span class="text-red-600 font-bold">{{ alerts.length }}</span>
          <span class="text-sm text-red-600">Active Alerts</span>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="flex-1 w-full lg:ml-64" [class.lg:ml-16]="sidebarCollapsed">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-30">
      <div class="px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center gap-3">
            <button
              (click)="toggleMobileSidebar()"
              class="lg:hidden p-2 hover:bg-gray-100 rounded focus:outline-none focus:ring-2 focus:ring-red-500"
              aria-label="Toggle mobile menu"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6 text-gray-600"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                />
              </svg>
            </button>
            <h1 class="text-lg sm:text-xl font-bold text-gray-900">Blood Bank Dashboard</h1>
          </div>
          <div class="flex items-center gap-2 sm:gap-4">
            <div class="text-xs sm:text-sm text-gray-600">
              <span class="font-medium">{{ currentDate }}</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content Area -->
    <main class="p-4 sm:p-6 lg:p-8">
      <!-- Overview Section -->
      <app-overview
        *ngIf="activeSection === 'overview'"
        [totalAvailableUnits]="totalAvailableUnits"
        [unitsExpiringSoon]="unitsExpiringSoon"
        [activeRequests]="activeRequests"
        [todayDonations]="todayDonations"
        [pendingDeliveries]="pendingDeliveries"
        [alerts]="alerts"
        (acknowledgeAlert)="acknowledgeAlert($event)"
      ></app-overview>

      <!-- Inventory Section -->
      <app-inventory
        *ngIf="activeSection === 'inventory'"
        [refreshToken]="inventoryRefreshToken"
        [organizationId]="organizationId"
        (statsChange)="onInventoryStatsChange($event)"
      ></app-inventory>

      <!-- Donors Section -->
      <app-donations 
        *ngIf="activeSection === 'donations'"
        [refreshToken]="donorRefreshToken"
        [organizationId]="organizationId"
        (addDonation)="openNewDonation()"
        (statsChange)="onDonorStatsChange($event)"
        (inventoryUpdated)="onDonorInventoryUpdated()"
      ></app-donations>

      <!-- Requests Section -->
      <app-requests
        *ngIf="activeSection === 'requests'"
        [refreshToken]="requestRefreshToken"
        [organizationId]="organizationId"
        (addRequest)="openNewRequest()"
        (statsChange)="onRequestStatsChange($event)"
        (deliveriesChange)="onRequestDeliveriesChange()"
      ></app-requests>

      <!-- Deliveries Section -->
      <app-deliveries
        *ngIf="activeSection === 'deliveries'"
        [refreshToken]="deliveryRefreshToken"
        [organizationId]="organizationId"
        (statsChange)="onDeliveryStatsChange($event)"
      ></app-deliveries>
      
      <!-- Reports Section -->
      <app-report
        *ngIf="activeSection === 'reports'"
        [dailyReport]="dailyReport"
      ></app-report>
    </main>
  </div>
</div>

<!-- Modals -->
<app-request-modal
  [show]="showRequestModal"
  [requestForm]="requestForm"
  (close)="closeModals()"
  (save)="saveRequest()"
></app-request-modal>

<app-donation-modal
  [show]="showDonationModal"
  [donationForm]="donationForm"
  (close)="closeModals()"
  (save)="saveDonation()"
></app-donation-modal>
